{"ast":null,"code":"import jspdf from \"jspdf\";\nimport autoTable from 'jspdf-autotable';\nimport formatDate from './formatDate.js';\nexport const exportPDF = (data, option) => {\n  const doc = new jspdf({\n    orientation: 'p',\n    unit: 'mm',\n    format: 'letter'\n  });\n  const ulist = [];\n  let i = 1;\n  let view = 'Total';\n  let la = '';\n  let y = 18;\n  switch (option) {\n    case 't':\n      const all = data.map(d => {\n        ulist.push([`${i}`, `${d.user}`, `${d.fullname}`, `${d.formatDate(createdAt)}`, `${d.formatDate(updatedAt)}`, `${d.enabled === true ? 'Activo' : 'Inactivo'}`]);\n        i += 1;\n      });\n      break;\n    case 'a':\n      const active = data.filter(e => e.enabled === true);\n      const act = active.map(e => {\n        ulist.push([`${i}`, `${e.user}`, `${e.fullname}`, `${e.formatDate(createdAt)}`, `${e.formatDate(updatedAt)}`, 'Activo']);\n        i += 1;\n      });\n      view = 'Activos';\n      break;\n    case 'i':\n      const inaactive = data.filter(e => e.enabled === false);\n      const inact = inaactive.map(e => {\n        ulist.push([`${i}`, `${e.user}`, `${e.fullname}`, `${e.formatDate(createdAt)}`, `${e.formatDate(updatedAt)}`, 'Inactivo']);\n        i += 1;\n      });\n      view = 'Inactivos';\n      break;\n    default:\n  }\n  let b = ulist;\n  for (let x = 0; x <= 1; x++) {\n    for (let i = 0; i <= Object.keys(ulist).length - 1; i++) {\n      b = [...b, ulist[i]];\n    }\n  }\n  doc.setFont('helvetica', 'bold');\n  doc.setFontSize(12);\n  doc.setLineDashPattern([1, 1]);\n  doc.text(\"Listado de usuarios del proxy:\", 14, y);\n  doc.setFont('helvetica', 'normal');\n  doc.text(view, 77, y);\n  doc.setFont('helvetica', 'bold');\n  doc.text('F/H:', 150, y);\n  doc.setFont('helvetica', 'normal');\n  doc.text(getDate(), 160, y);\n  y += 3;\n  doc.line(14, y, 200, y, 'FD');\n  y += 1;\n  doc.autoTable({\n    theme: 'plain',\n    margin: {\n      top: y\n    },\n    styles: {\n      font: 'helvetica'\n    },\n    headStyles: {\n      3: {\n        halign: 'center'\n      }\n    },\n    columnStyles: {\n      3: {\n        halign: 'left',\n        fillColor: [255, 255, 255]\n      }\n    },\n    head: [['No.', 'Usuario', 'Nombre y apellidos', 'Creado', 'Modificado', 'Estado']],\n    body: ulist\n  });\n  la = Math.ceil(doc.lastAutoTable.finalY);\n  doc.line(16, `${la}`, 200, la, 'FD');\n  y = la + 7;\n  doc.setFontSize(10);\n  doc.text('Aquí va un texto', 16, y);\n  y += 4.5;\n  doc.text('JavaScript .Reduce() is an amazing feature we can solve most complex logic with its accumulator concept I strongly recommend to read my this 3 mints article . In which I show how we can use .reduce() to solve complex logic in short code', 16, y, {\n    align: \"justify\",\n    maxWidth: 90\n  });\n  y += 5;\n  doc.save(`usuarios_${view}.pdf`);\n};\nexport default exportPDF;\n\n/* NOTES:\n\n\t* Varios\n\t- Dimensiones de Hoja Carta: 215,9 x 279,4 mm (centroX: 108, centroY: 140)\n\n    * Table\n    - Styling options:\n    \n    theme: 'striped'|'grid'|'plain' = 'striped'\n    styles: StyleDef\n    headStyles: StyleDef\n    bodyStyles: StyleDef\n    footStyles: StyleDef\n    alternateRowStyles: StyleDef\n    columnStyles: {&columnDataKey: StyleDef} Note that the columnDataKey is normally the index of the column, but could also be the dataKey of a column if content initialized with the columns property\n\n    - StyleDef:\n    \n    font: 'helvetica'|'times'|'courier' = 'helvetica'\n    fontStyle: 'normal'|'bold'|'italic'|'bolditalic' = 'normal'\n    overflow: 'linebreak'|'ellipsize'|'visible'|'hidden' = 'linebreak'\n    fillColor: Color? = null\n    textColor: Color? = 20\n    cellWidth: 'auto'|'wrap'|number = 'auto'\n    minCellWidth: number? = 10\n    minCellHeight: number = 0\n    halign: 'left'|'center'|'right' = 'left'\n    valign: 'top'|'middle'|'bottom' = 'top'\n    fontSize: number = 10\n    cellPadding: Padding = 10\n    lineColor: Color = 10\n    lineWidth: border = 0 // If 0, no border is drawn\n    \n    * Document\n\n    line(x1,y1,x2,y2, style)\t\t\t\t// Draw a line. Valid styles include: 'S' [default] - stroke, 'F' - fill, and 'DF' (or 'FD') - fill then stroke. \n    rect(x, y, w, h, style) \t\t\t// Add a rectangle at x,y position (style: Valid styles include: 'S' [default] - stroke, 'F' - fill, and 'DF' (or 'FD') - fill then stroke.)\n    roundedRect(x, y, w, h, rx, ry, style)\t// Add a rounded rectangle at x,y. Rounded values at rx, ry\n    triangle(x1, y1, x2, y2, x3, y3, style)\t// Adds a triangle to PDF.\n    setTextColor(ch1, ch2, ch3, ch4)\t\t// Sets the text color for upcoming elements in CMYK format\n    setCharSpace(charSpace)\t\t\t// Set global value of CharSpace.\n    setCreationDate(date)\n    setFontSize(size)\t\t\t\t// Sets font size for upcoming text elements\n    setFontStyle(style)\t\t\t\t// Switches font style or variant for upcoming text elements, while keeping the font face or family same\n    addPage()\t\t\t\t\t// AddsetPage(page)\n    movePage(targetPage, beforePage) \n    setPage(page)\t\t\t\t// Sets focus to (page)\n    setLineWidth(width) \t\t\t// Sets line width for upcoming lines.\n    setLineHeightFactor(value)\t\t\t// Sets the LineHeightFactor of proportion. Default: 1.15.\n    setFillColor(ch1, ch2, ch3, ch4)\t\t// Sets the fill color for upcoming elements. Depending on the number of arguments given, Gray, RGB, or CMYK color space is implied.\n    setDrawColor(ch1, ch2, ch3, ch4\n    \n*/","map":{"version":3,"names":["jspdf","autoTable","formatDate","exportPDF","data","option","doc","orientation","unit","format","ulist","i","view","la","y","all","map","d","push","user","fullname","createdAt","updatedAt","enabled","active","filter","e","act","inaactive","inact","b","x","Object","keys","length","setFont","setFontSize","setLineDashPattern","text","getDate","line","theme","margin","top","styles","font","headStyles","halign","columnStyles","fillColor","head","body","Math","ceil","lastAutoTable","finalY","align","maxWidth","save"],"sources":["/data/data/com.termux/files/home/www/proxy-users-mongodb/app/src/libs/usersPDF.js"],"sourcesContent":["import jspdf from \"jspdf\"\nimport autoTable from 'jspdf-autotable'\nimport formatDate from './formatDate.js'\n\nexport const exportPDF = (data, option) => {\n\n    const doc = new jspdf({\n\torientation: 'p',\n\tunit: 'mm',\n\tformat: 'letter'\n    })\n\n    const ulist = [ ]\n    let i = 1\n    let view = 'Total'\n    let la = ''\n    let y = 18\n    \n    switch(option){\n\tcase 't':\n\t    const all = data.map(d =>{\n\t\tulist.push([`${i}`, `${d.user}`, `${d.fullname}`, `${d.formatDate(createdAt)}`, `${d.formatDate(updatedAt)}`, `${d.enabled === true ? 'Activo' : 'Inactivo'}`],)\n\t        i += 1\n\t    })\n    \t    break\n\tcase 'a':\n\t    const active = data.filter(e => e.enabled === true)\n\t    const act = active.map(e =>{\n\t\tulist.push([`${i}`, `${e.user}`, `${e.fullname}`, `${e.formatDate(createdAt)}`, `${e.formatDate(updatedAt)}`,  'Activo'],)\n\t        i += 1\n\t    })\n\t    view = 'Activos'\n\t    break\n\tcase 'i':\n\t    const inaactive = data.filter(e => e.enabled === false)\n\t    const inact = inaactive.map(e =>{\n\t\tulist.push([`${i}`, `${e.user}`, `${e.fullname}`, `${e.formatDate(createdAt)}`, `${e.formatDate(updatedAt)}`,  'Inactivo'],)\n\t        i += 1\n\t    })\n\t    view = 'Inactivos'\n\t    break\n\tdefault:\n    }\n\n    let b = ulist\n    for(let x=0; x<=1; x++){\n\tfor(let i=0; i<=Object.keys(ulist).length - 1; i++){\n\t    b = [...b, ulist[i]]   \n\t}\n    }\n\n    doc.setFont('helvetica','bold')\n    doc.setFontSize(12)\n    doc.setLineDashPattern([1,1])\n    doc.text(\"Listado de usuarios del proxy:\", 14, y)\n    doc.setFont('helvetica','normal')\n    doc.text(view, 77, y)\n    doc.setFont('helvetica','bold')\n    doc.text('F/H:', 150, y)\n    doc.setFont('helvetica','normal')\n    doc.text(getDate(), 160, y)\n    y += 3\n    doc.line(14,y,200,y,'FD')\n\n\ty += 1\n    doc.autoTable({\n        theme: 'plain',\n        margin: {top: y},\n        styles: {\n    \t    font: 'helvetica'\n    \t    },\n    \theadStyles: { 3: { halign: 'center'}},\n    \tcolumnStyles: { 3: { halign: 'left', fillColor: [255, 255, 255] }},\n\t\thead: [['No.','Usuario','Nombre y apellidos','Creado','Modificado','Estado',]],\n\t\tbody: ulist,\n    })\n\n    la = Math.ceil(doc.lastAutoTable.finalY)\n    doc.line(16,`${la}`,200, la,'FD')\n    y = la + 7\n    doc.setFontSize(10)\n    doc.text('Aquí va un texto',16,y)\n    y += 4.5\n    doc.text('JavaScript .Reduce() is an amazing feature we can solve most complex logic with its accumulator concept I strongly recommend to read my this 3 mints article . In which I show how we can use .reduce() to solve complex logic in short code',16,y,{align:\"justify\", maxWidth: 90})\n    y+=5\n\n    doc.save(`usuarios_${view}.pdf`)\n\n}\n\nexport default exportPDF\n\n/* NOTES:\n\n\t* Varios\n\t- Dimensiones de Hoja Carta: 215,9 x 279,4 mm (centroX: 108, centroY: 140)\n\n    * Table\n    - Styling options:\n    \n    theme: 'striped'|'grid'|'plain' = 'striped'\n    styles: StyleDef\n    headStyles: StyleDef\n    bodyStyles: StyleDef\n    footStyles: StyleDef\n    alternateRowStyles: StyleDef\n    columnStyles: {&columnDataKey: StyleDef} Note that the columnDataKey is normally the index of the column, but could also be the dataKey of a column if content initialized with the columns property\n\n    - StyleDef:\n    \n    font: 'helvetica'|'times'|'courier' = 'helvetica'\n    fontStyle: 'normal'|'bold'|'italic'|'bolditalic' = 'normal'\n    overflow: 'linebreak'|'ellipsize'|'visible'|'hidden' = 'linebreak'\n    fillColor: Color? = null\n    textColor: Color? = 20\n    cellWidth: 'auto'|'wrap'|number = 'auto'\n    minCellWidth: number? = 10\n    minCellHeight: number = 0\n    halign: 'left'|'center'|'right' = 'left'\n    valign: 'top'|'middle'|'bottom' = 'top'\n    fontSize: number = 10\n    cellPadding: Padding = 10\n    lineColor: Color = 10\n    lineWidth: border = 0 // If 0, no border is drawn\n    \n    * Document\n\n    line(x1,y1,x2,y2, style)\t\t\t\t// Draw a line. Valid styles include: 'S' [default] - stroke, 'F' - fill, and 'DF' (or 'FD') - fill then stroke. \n    rect(x, y, w, h, style) \t\t\t// Add a rectangle at x,y position (style: Valid styles include: 'S' [default] - stroke, 'F' - fill, and 'DF' (or 'FD') - fill then stroke.)\n    roundedRect(x, y, w, h, rx, ry, style)\t// Add a rounded rectangle at x,y. Rounded values at rx, ry\n    triangle(x1, y1, x2, y2, x3, y3, style)\t// Adds a triangle to PDF.\n    setTextColor(ch1, ch2, ch3, ch4)\t\t// Sets the text color for upcoming elements in CMYK format\n    setCharSpace(charSpace)\t\t\t// Set global value of CharSpace.\n    setCreationDate(date)\n    setFontSize(size)\t\t\t\t// Sets font size for upcoming text elements\n    setFontStyle(style)\t\t\t\t// Switches font style or variant for upcoming text elements, while keeping the font face or family same\n    addPage()\t\t\t\t\t// AddsetPage(page)\n    movePage(targetPage, beforePage) \n    setPage(page)\t\t\t\t// Sets focus to (page)\n    setLineWidth(width) \t\t\t// Sets line width for upcoming lines.\n    setLineHeightFactor(value)\t\t\t// Sets the LineHeightFactor of proportion. Default: 1.15.\n    setFillColor(ch1, ch2, ch3, ch4)\t\t// Sets the fill color for upcoming elements. Depending on the number of arguments given, Gray, RGB, or CMYK color space is implied.\n    setDrawColor(ch1, ch2, ch3, ch4\n    \n*/\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}